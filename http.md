### UDP和TCP的区别和应用场景
1.  概念：
    1.  UDP: 用户数据报通信协议，对应用层传输过来的数据报文不做拆分，直接在数据报文前添加本层的头部，头部有4个字段，每个字段2个字节，分别表示源地址、目的地址、长度、校验和。特点是不提供控制服务，利用ip提供面向无连接的通信服务，丢包不重传、乱序不重排、无法控制网络拥堵

    2.  TCP：传输控制协议，一种可靠、面向字节流的通信协议。特点是提供数据传输控制功能、丢包重传、乱序排序、面向连接。在ip无连接的网络上提供可靠的通信。

2.  区别：

    1.  相同：都是在传输层

    2.  不同：

        1.  tcp是面向连接的，要经过3次握手、4次挥手。udp不会建立连接，只负责将数据发送到网络。

        2.  tcp提供可靠的服务（通过确认与序号、流量控制等方式），确保数据包不丢失。udp尽可能传输数据，不保证交付。

        3.  tcp面向字节流，会将数据报看成一段无结构的字节流，分成多个tcp报文传输。udp添加头部后直接发送整个报文。

        4.  tcp只能点对点全双工通信。udp可以一对多，多对一，一对一和多对多的通信。

3. 应用场景：tcp适合传输效率要求不高、准确性高或者连接的场景。udp相反。

### OSI模型

1.  应用层：定义应用程序的交互规则，通过不同的应用层协议对不同的应用程序提供不同的服务。如域名系统DNS、万维网协议http、文件传输ftp等

2.  表示层：解释应用层之间数据交换的含义。主要负责数据压缩、数据加密和数据描述

3.  会话层：负责建立、管理和终止表示层实体之间的通信。

4.  传输层：为两台主机进程之间提供服务，负责数据包错误、数据包次序和关键传输的问题。

5.  网络层：负责选择合适的网络路由和节点，确保数据按时发送。

6.  数据链路层：负责将IP报文添加头部后组装成帧在两个相邻的节点发送帧。

7.  物理层：负责节点之间的比特流透明传输。

### TCP/IP协议

1.  概念：TCP/IP协议是fcp、tcp、IP、nfs、http、smtp等协议簇的简称。分为四层模型和五层模型，五层模型是为了讲解而产生，实际仍然是四层模型，即应用层、传输层、网络层、网络接口层（即数据链路层和物理层）。

2.  与osi模型的区别：

    1.  相同：都按层次划分、都提供连接和无连接的通信机制。

    2.  不同：OSI模型是七层，七层划分实现较为困难，并且由于表示层和会话层、应用层是在实际的应用程序中实现的，产生的数据包是私有不共享的，因此在tcp/ip模型中去掉了这两层。


### DNS

1. 域名系统： 负责将域名转换为ip地址

2. 查询方式：

    递归查询：本地域名服务器向根域名服务器发送请求，根域名服务器又向顶级域名服务器请求，层层向下查询，直至查找到对应的ip地址并返回。相当于去某公司找某个人，先找到总经理，总经理找到区域经理，区域经理又找到部门经理，部门经理又找到对应的组长，组长找到某个人，然后再把消息反馈。

    迭代查询：本地域名服务器向根域名服务器发送请求，根域名服务器返回顶级域名服务器地址，本地服务器又向顶级域名系统发送请求，顶级域名返回子域名服务器的地址，本地服务器又继续...，直至找到对应地址。

    显然，迭代查询大大减少了根域名服务器的压力

3. 缓存方式：浏览器缓存、操作系统缓存（host文件）

4. 查询过程：首先在浏览器缓存里的域名ip表查找，没找到就在操作系统的host文件找，没找到就以递归查询方式在本地域名服务器查找，还没找到就以迭代查询的方式向根域名服务器查找，找到后缓存在操作系统里，操作系统再返回给浏览器，浏览器再缓存查找到的地址。

### CDN

1.内容分发网络：用户向服务器请求资源时，不直接访问源站，而是访问离用户最近的服务器（边缘节点），这些边缘节点相当于源站的代理，这一过程通过cdn全局负载均衡系统实现。

2.负载均衡调度系统：分为全局调度系统和区域调度系统。当用户请求解析域名时，dns会返回全局负债均衡系统的别名，用户拿到别名会重新向全局调度系统请求，全局调度系统会根据用户的ip地址的地理位置、相同网络的边缘节点、边缘节点的拥塞情况等因素，返回一个合适的边缘节点给用户，用户拿到这个ip地址后再去访问边缘节点的服务器。

3.缓存代理：cnd会将用经常使用的资源缓存起来。衡量一个cnd的服务质量指标有命中率和回源率，命中率即命中次数/访问次数，回源率即访问源站次数/访问次数。

### HTTP1.0/HTTp1.1/HTTP2.0区别

1. http1.0: 短链接，每次请求都要建立一个tcp连接，请求完毕后断开连接。connection: keep-alive设置长链接

2. http1.1: 默认长链接，一个tcp连接可以处理多个http请求，并且客户端在上一个请求未响应之前可以连续发送多个先后请求，但是服务器还是只能按序处理请求并返回数据。

3. http2.0:

    1.  二进制分帧：将请求/响应数据划分为更小的帧，并且用二进制形式编码，解析更快，帧首部有唯一标识。

    2. 多路复用：复用tcp连接，可同时发送多个请求并且不必注意先后发送顺序。

    3. 首部压缩：客户端和服务端共同维护一个首部表，当再次发送请求时，会检查首部表，对比差异，在请求头中只发送差异部分。

    4. 服务器推送： 允许服务器向客户端发送请求。