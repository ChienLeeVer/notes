
## 使用到的知识点


### rem布局
将html的font-size设置为50px，其它元素使用rem直接换算

### 在项目中使用iconfont

1.在官网中创建一个项目；

2.将需要的图标添加至购物车；

3.在购物车中添加至项目

4.将项目下载下来，打开项目，取出.svg,.ttf,.woff,.wooff2的文件放到src/assets/styles/iconfont文件夹中。取出iconfont.css放到styles文件夹中

5.在main.js文件中引入iconfont.css


### 使用scss

安装依赖：

使用scss提示需要安装sass-loader，查找得知需要搭配node-sass，但是node-sass安装除了版本对应问题，还会有很多错误，导致安装失败，网上搜索得知最佳解决办法为安装dart-sass，即sass。

```
npm i -D sass sass-loader@^10.1.1
```


css优化：提取公共样式后写成一个单独的scss文件并在其他文件中引入，使用命令 import 'url'

### 按需引入element-ui
```
npm i -D element-ui babel-plugin-component
```

在babel.config.js中配置
```
 "plugins": [
    [
      "component",
      {
        "libraryName": "element-ui",
        "styleLibraryName": "theme-chalk"
      }
    ]
  ]
```

可能会报错：Cannot find package 'babel-preset-es2015'

安装包```npm i -D babel-preset-es2015```
修改babel.config.js中的‘es2015’ -> '@babel/preset-env'

### 解决图片尚未加载时，下边的元素位置上移问题

给轮播图组件添加样式
```
{
    overflow: hidden;
    width: 100%;
    height: 0;
    padding-bottom: 150px  ;/*固定图片高度*/
    /*如果需要图片自适应 padding-bottom设置为百分比，百分比相对于父容器width而言，margin亦是如此*/
}

//或者
{
    width: 100%;
    height: 32.5vw; //存在兼容性问题
}
```

### 多于文字省略

封装成公共scss函数
mixins.scss
```
@mixin ellipse() {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis
}
```

如果样式无法生效，在其父级元素的样式上添加
{
    min-width: 0;
}

### git的使用

每新增一个功能,就在git上新建一个分支，然后在本地拉取，git branch检查本地是否有新增分支，如果没有则 git checkout -b 分支名 origin/分支名表示新建一个分支并关联到远程分支同时切换到该分支，然后本地就在这个分支上开发，开发完成后git add .  git commit -m '...', 最后git push origin 远程分支名，将分支推送到远程仓库对应的分支上，接着git pull拉取最新代码，然后让git checkout main切回main主分支，git merge origin/分支名表示将远程新增的分支合并到本地分支，然后git push 将本地main主分支推送到远程仓库中。


### 在哪里获取数据
一般一个页面就在页面的mounted或者created期间通过axios获取数据，然后将数据绑定在页面的组件属性上（这里是父子通信方式）

### axios访问假接口数据mock
推荐使用apifox平台，需要学习

这里暂时将数据存放在public文件夹的mock文件夹下，那么axios如何访问这个文件夹下的index.json,直接axios.get('文件夹路径')是访问不到的，需要通过vuecli提供的proxy代理来访问，这里是vue.config.js的配置说明
<https://cli.vuejs.org/zh/config/>
<https://blog.csdn.net/a9874561328/article/details/123798625>

为devServer中的proxy添加如下配置
```
proxy: 'http://localhost:8080' 表示将任何未知请求 (没有匹配到静态文件的请求) 代理到http://localhost:8080,vue项目规定默认public文件夹对外暴露


proxy: {
        //表示代理器中设置/api,项目中请求路径为/api的替换为target
        '/api': {
            target: 'http://localhost:8080/', //目标服务器
            changeOrigin: true, //是否跨域
            ws: true, //websockets
            pathRewrite: { '^/api': '/mock' }
            //pathRewrite方法重写url, 当项目中访问axios.get('/api/xxx')时，地址改写为‘http://localhos :8080/public/mock/xxx’,因为跨域访问vue项目默认访问public文件夹下的文件
        }
    }
```

### 使用better-scroll插件解决内容滚动

即当给div块设置overflow：hidden + position:absolute时，页面高度是不计算div块的高度的，因此不会出现滚动，内容很长时又想设置滚动效果采用此插件，背后的大致原理是当内容的高度大于容器的高度时，利用translateY来实现位移。如果容器内部的数据是异步获取的，那么better-scroll初始化后得到的内容高度小于容器高度，当初始化完时ajax异步获取的数据才到达，此时无法滚动，解决办法：

1.给better-scroll的初始化设置0s定时器将其放置在宏任务里。

2.watch监听aja获取到的数据，在this.$nextTick()里写this.scroll.refresh()，表示当数据获取完毕并且执行完vue异步更新队列后立即刷新scroll数据

```
npm i -D better-scroll

//script里
import Bscroll from 'better-scroll'
mounted() {
    this.scroll = new Bscroll(this.$refs.vm) //this.$refs.vm表示某个实例dom,可以给dom标签设置ref属性
}
```



细节点：JSON文件中的数组和对象最后一个元素末尾不能带逗号，否则axios无法自动将JSON字符串转为对象