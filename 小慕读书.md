## 主要流程分析

### 登陆流程
    1.  路由和权限校验
        1.  所有路由都得先经过router.beforeEach(to, from, next)的校验，在全局路由前置守卫里主要做几件事：根据当前是否存在token决定路由跳转路径
            1.  存在token：判断当前路由是否在登陆页面，如果为登陆页面直接跳转到后台页面。如果当前路由为后台页面，则先获取Vuex里的角色列表（封装的方法），不存在对应的角色列表则携带token访问后端接口获取角色（封装的方法），保存在Vuex中，然后动态生成路由（封装的方法），通过router.addRoutes(路由列表)添加在路由中，接着跳转到后台页面中。
            2.  不存在token：判断当前路由是否在白名单中（如登陆/注册页面）,则直接next()。如果不是白名单则跳转到login页面。一个简单的例子说明：https://blog.csdn.net/qq_29630875/article/details/96590724
        2.  动态路由生成过程：